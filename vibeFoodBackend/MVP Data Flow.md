Check-in
PS: The client checks the Check-in status every time the app is opened
- Check-in Request
  - Device ID (obtained or generated by the frontend as a unique device identifier)
- Check-in Response
  - isRegistered:bool: true / false
  - errMsg

Registration
PS: On first use (no Device ID record in the database), send the selected preference and ID to the backend to create a profile entry
- Register Request
  - Device ID
  - Preference selection (Enum)
- Register Response
  - isSuccess: Bool
  - errMsg

Scan
PS: Take a photo, upload it, and recognize the menu content
- ScanRequest
  - Device ID
  - ImageBase64
- ScanResponse
  - isSuccess: Bool (1. Image upload 2. Image OCR)
  - errMsg (1. Image upload 2. Image OCR)

Recommendation
PS: After selecting a vibe, return the recommendation response for the frontend to display and render
- RecommendationRequest
  - Device ID
  - Vibe Selection: Enum
- RecommendationResponse
  - isSuccess
  - errMsg
  - Optional Recommendation (Json):
    - BriefSummary: A one-sentence summary
    - Recommendations List
"recommendations": [
    {
      "dish_name": "Pad Thai",
      "reasoning": "A mild, sweet noodle dish perfect for first-timers",
      "story": "The most popular Thai dish for a reason",
      "warnings"?: ["Contains peanuts - please verify with staff"],
      "price": "14",
      "Emoji":
    },
     {
      "dish_name": "Pad Thai",
      "reasoning": "A mild, sweet noodle dish perfect for first-timers",
      "story": "The most popular Thai dish for a reason",
      "warnings"?: ["Contains peanuts - please verify with staff"],
      "price": "14",
      "Emoji":
    },
  ]
Feedback
PS: After the user filters through the recommended dish list, return a feedback
- FeedbackRequest/Response
Request:
{
  "picked_dish_names": ["dish_id_1", "dish_id_2"],
  "skipped_dish_names": ["dish_id_3"],
  "time_to_decision_ms": 45230 // Client-side measured
}
Response (200 OK):
{
  "picked_count": 2,
  "total_price_estimate": "$24-28",
  "summary": "You don't like spicy food, and a bit hesitate"
  //"celebration_type": "first_order" | "perfect_match" | "quick_decision" | null
}
DB Schema
- userProfile Table
  - DeviceID
  - Preference selection
  - CurrentMenu: Json
  - CurrentVibe: Json
  - CurrentRecommendations
  - CurrentFeedback

Logic Flow
Scan Logic Function
ScanRequest (DeviceID, Base64) => Save Image + Call OCR service + Update DB (userProfile) + Response (success) + Delete Image

Recommendation Function
RecommendationRequest (Vibe selection) => Update current vibe in table => call llm service for recommendation list => Update CurrentRecommendations => Recommendation Response

Feedback Function
FeedbackRequest => Call llm service for feedback => Update Feedback => FeedbackResponse
